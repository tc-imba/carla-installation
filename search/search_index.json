{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"About \u00b6 Many of the docs are copied or modified from the original CARLA Documentation . I added some notes and warnings based on my experience when building Unreal Engine and CARLA in various attempts. Currently, only building on Windows is available. I may add Linux and macOS guide in the future.","title":"About"},{"location":"#about","text":"Many of the docs are copied or modified from the original CARLA Documentation . I added some notes and warnings based on my experience when building Unreal Engine and CARLA in various attempts. Currently, only building on Windows is available. I may add Linux and macOS guide in the future.","title":"About"},{"location":"windows/carla/","text":"CARLA \u00b6 Preparation \u00b6 Make sure you have installed Unreal Engine and everything in dependencies . Then open a powershell, cmd, or Windows Terminal to proceed. Clone the Repository \u00b6 You can clone the latest release of CARLA by git clone https://github.com/carla-simulator/carla The repository is quite small, and it doesn't take much time to clone it. Important Do not use \"Download zip\" on GitHub to download CARLA. You need a repo clone since it use git tags to provide version information for the Makefile. Previous CARLA versions The master branch contains the current release of CARLA with the latest fixes and features. Previous CARLA versions are tagged with the version name. Always remember to check the current branch in git with the command git branch . Download Assets \u00b6 Download the latest assets to work with the current version of CARLA by running the following command in the CARLA root folder: Update.bat The size of the assets file is around 10-15 GB, which may takes a long time to download if you have a poor internet connection to the AWS Cloud. The assets will be downloaded and extracted to the appropriate location if 7zip is installed. Set Unreal Engine Environment Variable \u00b6 It is necessary to set an environment variable so that CARLA can find the Unreal Engine installation folder. To set the environment variable: Open Windows Control Panel and go to Advanced System Settings or search for Advanced System Settings in the Windows search bar. On the Advanced panel open Environment Variables... . Click New... to create the variable. Name the variable UE4_ROOT and choose the path to the installation folder of the desired Unreal Engine installation. Build \u00b6 All commands in this stage should be executed via the x64 Native Tools Command Prompt for VS 2019 . Open this by clicking the Windows key and searching for x64. All commands should be run in the root CARLA folder. PythonAPI \u00b6 The Python API client grants control over the simulation. Compilation of the Python API client is required the first time you build CARLA and again after you perform any updates. make PythonAPI The compilation will take about 15-20 minutes on a desktop with a 24-core CPU, or about 1-2 hours on a laptop. Please br patient if you don't have a powerful CPU. After the compilation, a .whl file will be generated. Its path should be something like PythonAPI\\carla\\dist\\carla-x.x.x-cpxx-cpxx-win_amd64.whl . You can install it with pip3 install <path/to/wheel>.whl Multiple CARLA versions Issues can arise through the use of different methods to install the CARLA client library and having different versions of CARLA on your system. It is recommended to use virtual environments when installing the .whl and to uninstall any previously installed client libraries before installing new ones. CarlaUE4Editor \u00b6 The following command compiles and launches Carla Unreal Engine Editor. Run this command each time you want to launch the server or use the Carla Unreal Engine Editor: make launch The compilation will take about 10-15 minutes on a desktop with a 24-core CPU. Be patient again. After the compilation, the Carla Unreal Engine Editor will be launched. Important If it is the first time you launch it, there will possible be a pop up and ask you to \"locate main renderdoc executable\". It seems that if you fail to locate it, the UE4Editor will crash before loading. You can find the renderdoc executable in C:\\Program Files\\RenderDoc\\ .","title":"CARLA"},{"location":"windows/carla/#carla","text":"","title":"CARLA"},{"location":"windows/carla/#preparation","text":"Make sure you have installed Unreal Engine and everything in dependencies . Then open a powershell, cmd, or Windows Terminal to proceed.","title":"Preparation"},{"location":"windows/carla/#clone-the-repository","text":"You can clone the latest release of CARLA by git clone https://github.com/carla-simulator/carla The repository is quite small, and it doesn't take much time to clone it. Important Do not use \"Download zip\" on GitHub to download CARLA. You need a repo clone since it use git tags to provide version information for the Makefile. Previous CARLA versions The master branch contains the current release of CARLA with the latest fixes and features. Previous CARLA versions are tagged with the version name. Always remember to check the current branch in git with the command git branch .","title":"Clone the Repository"},{"location":"windows/carla/#download-assets","text":"Download the latest assets to work with the current version of CARLA by running the following command in the CARLA root folder: Update.bat The size of the assets file is around 10-15 GB, which may takes a long time to download if you have a poor internet connection to the AWS Cloud. The assets will be downloaded and extracted to the appropriate location if 7zip is installed.","title":"Download Assets"},{"location":"windows/carla/#set-unreal-engine-environment-variable","text":"It is necessary to set an environment variable so that CARLA can find the Unreal Engine installation folder. To set the environment variable: Open Windows Control Panel and go to Advanced System Settings or search for Advanced System Settings in the Windows search bar. On the Advanced panel open Environment Variables... . Click New... to create the variable. Name the variable UE4_ROOT and choose the path to the installation folder of the desired Unreal Engine installation.","title":"Set Unreal Engine Environment Variable"},{"location":"windows/carla/#build","text":"All commands in this stage should be executed via the x64 Native Tools Command Prompt for VS 2019 . Open this by clicking the Windows key and searching for x64. All commands should be run in the root CARLA folder.","title":"Build"},{"location":"windows/carla/#pythonapi","text":"The Python API client grants control over the simulation. Compilation of the Python API client is required the first time you build CARLA and again after you perform any updates. make PythonAPI The compilation will take about 15-20 minutes on a desktop with a 24-core CPU, or about 1-2 hours on a laptop. Please br patient if you don't have a powerful CPU. After the compilation, a .whl file will be generated. Its path should be something like PythonAPI\\carla\\dist\\carla-x.x.x-cpxx-cpxx-win_amd64.whl . You can install it with pip3 install <path/to/wheel>.whl Multiple CARLA versions Issues can arise through the use of different methods to install the CARLA client library and having different versions of CARLA on your system. It is recommended to use virtual environments when installing the .whl and to uninstall any previously installed client libraries before installing new ones.","title":"PythonAPI"},{"location":"windows/carla/#carlaue4editor","text":"The following command compiles and launches Carla Unreal Engine Editor. Run this command each time you want to launch the server or use the Carla Unreal Engine Editor: make launch The compilation will take about 10-15 minutes on a desktop with a 24-core CPU. Be patient again. After the compilation, the Carla Unreal Engine Editor will be launched. Important If it is the first time you launch it, there will possible be a pop up and ask you to \"locate main renderdoc executable\". It seems that if you fail to locate it, the UE4Editor will crash before loading. You can find the renderdoc executable in C:\\Program Files\\RenderDoc\\ .","title":"CarlaUE4Editor"},{"location":"windows/dependencies/","text":"Dependencies \u00b6 List of Dependencies \u00b6 Visual Studio 2019 \u00b6 Get the 2019 version of Visual Studio from here . Choose Community for the free version. Use the Visual Studio Installer to install three additional elements: Windows 8.1 SDK. Select it in the Installation details section on the right or go to the Indivdual Components tab and look under the SDKs, libraries, and frameworks heading. x64 Visual C++ Toolset. In the Workloads section, choose Desktop development with C++ . This will enable a x64 command prompt that will be used for the build. Check that it has been installed correctly by pressing the Windows button and searching for x64 . Be careful not to open a x86_x64 prompt . .NET framework 4.6.2 . In the Workloads section, choose .NET desktop development and then in the Installation details panel on the right, select .NET Framework 4.6.2 development tools . This is required to build Unreal Engine. Important Other Visual Studio versions may cause conflict. Even if these have been uninstalled, some registers may persist. To completely clean Visual Studio from the computer, go to Program Files (x86)\\Microsoft Visual Studio\\Installer\\resources\\app\\layout and run .\\InstallCleanup.exe -full Software Dependencies \u00b6 CMake generates standard build files from simple configuration files. Git is a version control system to manage CARLA repositories. Make generates the executables. It is necessary to use Make version 3.81 , otherwise the build may fail. If you have multiple versions of Make installed, check that you are using version 3.81 in your PATH when building CARLA. You can check your default version of Make by running make --version . 7Zip is a file compression software. This is required for automatic decompression of asset files and prevents errors during build time due to large files being extracted incorrectly or partially. Python3 x64 is the main scripting language in CARLA. Having a x32 version installed may cause conflict, so it is highly advisable to have it uninstalled. RenderDoc is a standalone open-source graphics debugger that you can use to perform single-frame captures and inspect them. Python Dependencies \u00b6 You should install Python3 before this step. pip version 20.3 is required. In a fresh setup, this requirement should be met directly. You can run the following commands to ensure everything is set up in Python. pip3 install --upgrade pip pip3 install --user setuptools pip3 install --user wheel Install Dependencies By Package Manager (Chocolatey) \u00b6 There are a lot of different installer formats and multiple approaches to deploying Windows software. Deploying software without package management on Windows can be complicated and time-consuming. -- Chocolatey Documentation: Why Chocolatey? That's why we recommend to use Chocolatey to install all dependencies on Windows. Install Chocolatey \u00b6 First, ensure that you are using an administrative powershell. You can open it by Win+X and selecting \"Windows Powershell (Admin)\" in Windows 7,8,10 or \"Windows Terminal (Admin)\" in Windows 11. Then, enter the following command: Set-ExecutionPolicy Bypass -Scope Process -Force ; [System.Net.ServicePointManager] :: SecurityProtocol = [System.Net.ServicePointManager] :: SecurityProtocol -bor 3072 ; iex (( New-Object System . Net . WebClient ). DownloadString ( 'https://community.chocolatey.org/install.ps1' )) If you don't see any errors, you are ready to use Chocolatey! Type choco or choco -? now to see the help message. Check more details on https://chocolatey.org/install . Install Dependencies \u00b6 The installation command is quite straight-forward, very similar to those package managers on Linux. You only need to wait a few minutes until all dependencies are installed. choco install -y cmake git make 7zip python renderdoc Check the dependencies by git --version make -v python --version pip3 --version Note By default, cmake is not automatically added to the PATH . You can add it if you need to run it in command line (not required since Visual Studio 2019 also ships a builtin cmake in x64 Visual C++ Toolset). renderdoc is not a command line tool so it is not checked here as well. Install Dependencies Manually \u00b6 Really want to do it manually? Try to install the dependencies one by on by downloading the setup file on their websites. Maybe there will be a guide a few moments later .","title":"Dependencies"},{"location":"windows/dependencies/#dependencies","text":"","title":"Dependencies"},{"location":"windows/dependencies/#list-of-dependencies","text":"","title":"List of Dependencies"},{"location":"windows/dependencies/#visual-studio-2019","text":"Get the 2019 version of Visual Studio from here . Choose Community for the free version. Use the Visual Studio Installer to install three additional elements: Windows 8.1 SDK. Select it in the Installation details section on the right or go to the Indivdual Components tab and look under the SDKs, libraries, and frameworks heading. x64 Visual C++ Toolset. In the Workloads section, choose Desktop development with C++ . This will enable a x64 command prompt that will be used for the build. Check that it has been installed correctly by pressing the Windows button and searching for x64 . Be careful not to open a x86_x64 prompt . .NET framework 4.6.2 . In the Workloads section, choose .NET desktop development and then in the Installation details panel on the right, select .NET Framework 4.6.2 development tools . This is required to build Unreal Engine. Important Other Visual Studio versions may cause conflict. Even if these have been uninstalled, some registers may persist. To completely clean Visual Studio from the computer, go to Program Files (x86)\\Microsoft Visual Studio\\Installer\\resources\\app\\layout and run .\\InstallCleanup.exe -full","title":"Visual Studio 2019"},{"location":"windows/dependencies/#software-dependencies","text":"CMake generates standard build files from simple configuration files. Git is a version control system to manage CARLA repositories. Make generates the executables. It is necessary to use Make version 3.81 , otherwise the build may fail. If you have multiple versions of Make installed, check that you are using version 3.81 in your PATH when building CARLA. You can check your default version of Make by running make --version . 7Zip is a file compression software. This is required for automatic decompression of asset files and prevents errors during build time due to large files being extracted incorrectly or partially. Python3 x64 is the main scripting language in CARLA. Having a x32 version installed may cause conflict, so it is highly advisable to have it uninstalled. RenderDoc is a standalone open-source graphics debugger that you can use to perform single-frame captures and inspect them.","title":"Software Dependencies"},{"location":"windows/dependencies/#python-dependencies","text":"You should install Python3 before this step. pip version 20.3 is required. In a fresh setup, this requirement should be met directly. You can run the following commands to ensure everything is set up in Python. pip3 install --upgrade pip pip3 install --user setuptools pip3 install --user wheel","title":"Python Dependencies"},{"location":"windows/dependencies/#install-dependencies-by-package-manager-chocolatey","text":"There are a lot of different installer formats and multiple approaches to deploying Windows software. Deploying software without package management on Windows can be complicated and time-consuming. -- Chocolatey Documentation: Why Chocolatey? That's why we recommend to use Chocolatey to install all dependencies on Windows.","title":"Install Dependencies By Package Manager (Chocolatey)"},{"location":"windows/dependencies/#install-chocolatey","text":"First, ensure that you are using an administrative powershell. You can open it by Win+X and selecting \"Windows Powershell (Admin)\" in Windows 7,8,10 or \"Windows Terminal (Admin)\" in Windows 11. Then, enter the following command: Set-ExecutionPolicy Bypass -Scope Process -Force ; [System.Net.ServicePointManager] :: SecurityProtocol = [System.Net.ServicePointManager] :: SecurityProtocol -bor 3072 ; iex (( New-Object System . Net . WebClient ). DownloadString ( 'https://community.chocolatey.org/install.ps1' )) If you don't see any errors, you are ready to use Chocolatey! Type choco or choco -? now to see the help message. Check more details on https://chocolatey.org/install .","title":"Install Chocolatey"},{"location":"windows/dependencies/#install-dependencies","text":"The installation command is quite straight-forward, very similar to those package managers on Linux. You only need to wait a few minutes until all dependencies are installed. choco install -y cmake git make 7zip python renderdoc Check the dependencies by git --version make -v python --version pip3 --version Note By default, cmake is not automatically added to the PATH . You can add it if you need to run it in command line (not required since Visual Studio 2019 also ships a builtin cmake in x64 Visual C++ Toolset). renderdoc is not a command line tool so it is not checked here as well.","title":"Install Dependencies"},{"location":"windows/dependencies/#install-dependencies-manually","text":"Really want to do it manually? Try to install the dependencies one by on by downloading the setup file on their websites. Maybe there will be a guide a few moments later .","title":"Install Dependencies Manually"},{"location":"windows/unreal-engine/","text":"Unreal Engine \u00b6 Starting with version 0.9.12, CARLA uses a modified fork of Unreal Engine 4.26. This fork contains patches specific to CARLA. Register and Link GitHub Account and Unreal Engine's Account \u00b6 Be aware that to download this fork of Unreal Engine, you need to have a GitHub account linked to Unreal Engine's account . If you don't have this set up, please follow this guide before going any further. Following is a summary of the guide. GitHub Account \u00b6 Ensure you have a GitHub account before processing. Epic Game Account \u00b6 Ensure you have an Epic Game account before processing. Link Accounts \u00b6 Open your Epic Game account dashboard, hover over your username, and select the Personal button from the drop-down menu. With your account dashboard open, select the Connections tab from the sidebar. After opening the Connections menu, select the Accounts tab, and then select the Connect button below the GitHub icon. Select the Unreal Engine End User License Agreement (EULA) appropriate for your needs and read through the terms, then select the Link Account button. To complete the OAuth App Authorization process, click the Authorize EpicGames button. GitHub will send an email inviting you to join the @EpicGames organization on GitHub. You must select the Join @EpicGames button in this email within seven days to complete the GitHub and Epic Games account linking process. Upon completion, you will receive an email from Epic Games verifying that your GitHub and Epic Games accounts were successfully linked. Build Unreal Engine \u00b6 To build the modified version of Unreal Engine: Clone \u00b6 In a terminal, navigate to the location you want to save Unreal Engine and clone the carla branch: git clone --depth 1 -b carla https://github.com/CarlaUnreal/UnrealEngine.git cd UnrealEngine Note Keep the Unreal Engine folder as close as C:\\\\ as you can because if the path exceeds a certain length (usually 128) then Setup.bat will return errors in step 3. Setup \u00b6 Run the configuration scripts: Setup.bat GenerateProjectFiles.bat Compile \u00b6 Compile the modified engine: Open the UE4.sln file inside the source folder with Visual Studio 2019. In the build bar ensure that you have selected 'Development Editor', 'Win64' and 'UnrealBuildTool' options. Check this guide if you need any help. In the solution explorer, right-click UE4 and select Build . Validation \u00b6 Once the solution is compiled you can open the engine to check that everything was installed correctly by launching the executable Engine\\Binaries\\Win64\\UE4Editor.exe . Note If the installation was successful, this should be recognised by Unreal Engine's version selector. You can check this by right-clicking on any .uproject file and selecting Switch Unreal Engine version . You should see a pop-up showing Source Build at PATH where PATH is the installation path that you have chosen. If you can not see this selector or the Generate Visual Studio project files when you right-click on .uproject files, something went wrong with the Unreal Engine installation and you will likely need to reinstall it correctly. Important A lot has happened so far. It is highly advisable to restart the computer before continuing.","title":"Unreal Engine"},{"location":"windows/unreal-engine/#unreal-engine","text":"Starting with version 0.9.12, CARLA uses a modified fork of Unreal Engine 4.26. This fork contains patches specific to CARLA.","title":"Unreal Engine"},{"location":"windows/unreal-engine/#register-and-link-github-account-and-unreal-engines-account","text":"Be aware that to download this fork of Unreal Engine, you need to have a GitHub account linked to Unreal Engine's account . If you don't have this set up, please follow this guide before going any further. Following is a summary of the guide.","title":"Register and Link GitHub Account and Unreal Engine's Account"},{"location":"windows/unreal-engine/#github-account","text":"Ensure you have a GitHub account before processing.","title":"GitHub Account"},{"location":"windows/unreal-engine/#epic-game-account","text":"Ensure you have an Epic Game account before processing.","title":"Epic Game Account"},{"location":"windows/unreal-engine/#link-accounts","text":"Open your Epic Game account dashboard, hover over your username, and select the Personal button from the drop-down menu. With your account dashboard open, select the Connections tab from the sidebar. After opening the Connections menu, select the Accounts tab, and then select the Connect button below the GitHub icon. Select the Unreal Engine End User License Agreement (EULA) appropriate for your needs and read through the terms, then select the Link Account button. To complete the OAuth App Authorization process, click the Authorize EpicGames button. GitHub will send an email inviting you to join the @EpicGames organization on GitHub. You must select the Join @EpicGames button in this email within seven days to complete the GitHub and Epic Games account linking process. Upon completion, you will receive an email from Epic Games verifying that your GitHub and Epic Games accounts were successfully linked.","title":"Link Accounts"},{"location":"windows/unreal-engine/#build-unreal-engine","text":"To build the modified version of Unreal Engine:","title":"Build Unreal Engine"},{"location":"windows/unreal-engine/#clone","text":"In a terminal, navigate to the location you want to save Unreal Engine and clone the carla branch: git clone --depth 1 -b carla https://github.com/CarlaUnreal/UnrealEngine.git cd UnrealEngine Note Keep the Unreal Engine folder as close as C:\\\\ as you can because if the path exceeds a certain length (usually 128) then Setup.bat will return errors in step 3.","title":"Clone"},{"location":"windows/unreal-engine/#setup","text":"Run the configuration scripts: Setup.bat GenerateProjectFiles.bat","title":"Setup"},{"location":"windows/unreal-engine/#compile","text":"Compile the modified engine: Open the UE4.sln file inside the source folder with Visual Studio 2019. In the build bar ensure that you have selected 'Development Editor', 'Win64' and 'UnrealBuildTool' options. Check this guide if you need any help. In the solution explorer, right-click UE4 and select Build .","title":"Compile"},{"location":"windows/unreal-engine/#validation","text":"Once the solution is compiled you can open the engine to check that everything was installed correctly by launching the executable Engine\\Binaries\\Win64\\UE4Editor.exe . Note If the installation was successful, this should be recognised by Unreal Engine's version selector. You can check this by right-clicking on any .uproject file and selecting Switch Unreal Engine version . You should see a pop-up showing Source Build at PATH where PATH is the installation path that you have chosen. If you can not see this selector or the Generate Visual Studio project files when you right-click on .uproject files, something went wrong with the Unreal Engine installation and you will likely need to reinstall it correctly. Important A lot has happened so far. It is highly advisable to restart the computer before continuing.","title":"Validation"}]}